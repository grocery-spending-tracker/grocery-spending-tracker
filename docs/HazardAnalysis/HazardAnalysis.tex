\documentclass{article}

\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{hyperref}
\usepackage{pdflscape}
\usepackage{float}
\usepackage{adjustbox}
\usepackage{multirow}
\usepackage{enumitem}
\usepackage{longtable}
\usepackage[round]{natbib}
\usepackage[autostyle]{csquotes}

\hypersetup{
    colorlinks=true,       % false: boxed links; true: colored links
    linkcolor=red,          % color of internal links (change box color with linkbordercolor)
    citecolor=green,        % color of links to bibliography
    filecolor=magenta,      % color of file links
    urlcolor=cyan           % color of external links
}

\title{Hazard Analysis\\\progname}

\author{\authname}

\date{}

\input{../Comments}
\input{../Common}

\begin{document}

\maketitle
\thispagestyle{empty}

~\newpage

\pagenumbering{roman}

\begin{table}[hp]
\caption{Revision History} \label{TblRevisionHistory}
\begin{tabularx}{\textwidth}{llX}
\toprule
\textbf{Date} & \textbf{Developer(s)} & \textbf{Change}\\
\midrule
16/10/23 & Ryan Yeh & Added List of Tables, List of Figures, and Failure Mode and Effect Analyis\\
17/10/23 & Ryan Yeh & Added Critical Assumptions\\
... & ... & ...\\
\bottomrule
\end{tabularx}
\end{table}

~\newpage

\tableofcontents

~\newpage

\listoftables

\listoffigures

\newpage

\pagenumbering{arabic}

\wss{You are free to modify this template.}

\section{Introduction}

\wss{You can include your definition of what a hazard is here.}

\section{Scope and Purpose of Hazard Analysis}

\section{System Boundaries and Components}
The system that this hazard analysis will be conducted on consists of the following components:
\begin{itemize}
    \item The front-end and back-end components of the application:
        \begin{itemize}
            \item Authentication
            \item Purchase data input (including optical recognition and language models)
            \item Nearby alternatives recommendations
            \item Purchase history reports
            \item Spending objectives
        \end{itemize}
    \item User mobile device
    \item The database storing all application data
\end{itemize}

\section{Critical Assumptions}

The primary assumption being made by the team is that primary users are not intentionally
trying to break the application or use it maliciously.

\newpage
\begin{landscape}
    \section{Failure Mode and Effect Analysis}
    \begin{longtable}{|>{\raggedright\arraybackslash}p{0.15\textwidth}|>{\raggedright\arraybackslash}p{0.15\textwidth}|>{\raggedright\arraybackslash}p{0.25\textwidth}|>{\raggedright\arraybackslash}p{0.25\textwidth}|>{\raggedright\arraybackslash}p{0.35\textwidth}|>{\raggedright\arraybackslash}p{0.12\textwidth}|>{\raggedright\arraybackslash}p{0.03\textwidth}|}
        \caption{Failure Mode and Effect Analysis Table}  \\
		\hline
        \multicolumn{1}{|c|}{\textbf{Component}}
		& \multicolumn{1}{|c|}{\textbf{Failure Modes}}
		& \multicolumn{1}{|c|}{\textbf{Effects of Failure}}
		& \multicolumn{1}{|c|}{\textbf{Causes of Failure}}
		& \multicolumn{1}{|c|}{\textbf{Recommended Action}}
		& \multicolumn{1}{|c|}{\textbf{Req ID}}
		& \multicolumn{1}{|c|}{\textbf{Ref.}}  \\
        \hline
        Authenti\-cation
        & User is unable to login
        & User cannot access their account and application features
        & \begin{enumerate}[label=\alph*., leftmargin=*]
            \item User entered incorrect credentials
        \end{enumerate}
        & \begin{enumerate}[label=\alph*., leftmargin=*]
            \item Allow users to reset their password
        \end{enumerate}
        & \begin{enumerate}[label=\alph*., leftmargin=*]
            \item SSR1
        \end{enumerate}
        & HA1 \\
        \cline{2-7}
        & User's account is hacked by a third-party
        & User's data can be read and modified by third-party
        & \begin{enumerate}[label=\alph*., leftmargin=*]
            \item Third-party gains access to the  user's account without their permission
        \end{enumerate}
        & \begin{enumerate}[label=\alph*., leftmargin=*]
            \item Refer to HA1-a
            \item Limit the number of login attempts a person has for a given time period
        \end{enumerate}
        & \begin{enumerate}[label=\alph*., leftmargin=*]
            \item SSR1
            \item SSR2
        \end{enumerate}
        & HA2 \\
        \hline
        Purchase Data Input
        & Application improperly reads user's inputted receipt
        & Inaccurate data is stored to the database affecting application analytics and suggestions
        & \begin{enumerate}[label=\alph*., leftmargin=*]
            \item OCR interprets certain characters incorrectly from the input
            \item OCR is unable to read certain words or characters from the input
        \end{enumerate}
        & \begin{enumerate}[label=\alph*., leftmargin=*]
            \item Utilize natural language processing to clean and correct output produced by the OCR
            \item Prompt user to take another photo if input is unclear
            \item Allow user to manually input grocery item
        \end{enumerate}
        & \begin{enumerate}[label=\alph*., leftmargin=*]
            \item SSR3
            \item SSR4
            \item SSR5
        \end{enumerate}
        & HB1 \\
        \cline{2-7}
        & User is unable to input or take a photo of their receipt
        & User cannot record their recent shopping data and analytics become outdated
        & \begin{enumerate}[label=\alph*., leftmargin=*]
            \item Application does not have permissions to access device camera or photo gallery
        \end{enumerate}
        & \begin{enumerate}[label=\alph*., leftmargin=*]
            \item Prompt user to give permissions to the application to access camera and photo gallery
        \end{enumerate}
        & \begin{enumerate}[label=\alph*., leftmargin=*]
            \item SSR6
        \end{enumerate}
        & HB2 \\
        \hline
        Nearby Alternatives Recommendation
        & Unable to determine user's location
        & App is unable to provide nearby alternative recommendations
        & \begin{enumerate}[label=\alph*., leftmargin=*]
            \item Invalid location data entered by user
            \item Database failure
        \end{enumerate}
        & \begin{enumerate}[label=\alph*., leftmargin=*]
            \item Utilize validation and protection on location inputs to ensure valid location input
            \item Utilize automatic database backups on a regular basis
        \end{enumerate}
        & \begin{enumerate}[label=\alph*., leftmargin=*]
            \item SSR7
            \item SSR8
        \end{enumerate}
        & HC1 \\
        \cline{2-7}
        & Unable to connect to map/location API
        & Nearby alternatives recommendation feature fails to work
        & \begin{enumerate}[label=\alph*., leftmargin=*]
            \item User does not have an internet connection
        \end{enumerate}
        & \begin{enumerate}[label=\alph*., leftmargin=*]
            \item Prompt user to connect to the internet
        \end{enumerate}
        & \begin{enumerate}[label=\alph*., leftmargin=*]
            \item SSR9
        \end{enumerate}
        & HC2 \\
        \hline
        Purchase History Reports
        & Incorrect data is returned in the reports
        & User could make incorrect financial decisions based on inaccurate data
        & \begin{enumerate}[label=\alph*., leftmargin=*]
            \item Database failure
            \item Problem occurred when writing to database
        \end{enumerate}
        & \begin{enumerate}[label=\alph*., leftmargin=*]
            \item Refer to HC1-b
            \item Implement validation to check whether data is written correctly
        \end{enumerate}
        & \begin{enumerate}[label=\alph*., leftmargin=*]
            \item SSR8
            \item SSR10
        \end{enumerate}
        & HD1 \\
        \hline
        Spending Objectives
        & Invalid spending objectives input by user
        & Incorrect or invalid budgeting suggestions provided by the application
        & \begin{enumerate}[label=\alph*., leftmargin=*]
            \item Database failure
            \item Invalid data entered by user
        \end{enumerate}
        & \begin{enumerate}[label=\alph*., leftmargin=*]
            \item Refer to HC1-b
            \item Add input protection and validation on budgeting inputs
        \end{enumerate}
        & \begin{enumerate}[label=\alph*., leftmargin=*]
            \item SSR8
            \item SSR11
        \end{enumerate}
        & HE1 \\
        \hline
        General
        & Application unable to access database
        & Major features in the application will no longer work
        & \begin{enumerate}[label=\alph*., leftmargin=*]
            \item User does not have an internet connection
        \end{enumerate}
        & \begin{enumerate}[label=\alph*., leftmargin=*]
            \item Refer to HC2-a
        \end{enumerate}
        & \begin{enumerate}[label=\alph*., leftmargin=*]
            \item SSR9
        \end{enumerate}
        & HF1 \\
        \hline
    \end{longtable}
\end{landscape}

\section{Safety and Security Requirements}

\wss{Newly discovered requirements.  These should also be added to the SRS.  (A
rationale design process how and why to fake it.)}

\section{Roadmap}

\wss{Which safety requirements will be implemented as part of the capstone timeline?
Which requirements will be implemented in the future?}

\end{document}