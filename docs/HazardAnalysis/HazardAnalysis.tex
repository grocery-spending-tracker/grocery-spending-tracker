\documentclass{article}

\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{hyperref}
\usepackage{pdflscape}
\usepackage{float}
\usepackage{adjustbox}
\usepackage{multirow}
\usepackage{enumitem}
\usepackage{longtable}
\usepackage[round]{natbib}
\usepackage[autostyle]{csquotes}

\hypersetup{
    colorlinks=true,       % false: boxed links; true: colored links
    linkcolor=red,          % color of internal links (change box color with linkbordercolor)
    citecolor=green,        % color of links to bibliography
    filecolor=magenta,      % color of file links
    urlcolor=cyan           % color of external links
}

\title{Hazard Analysis\\\progname}

\author{\authname}

\date{}

\input{../Comments}
\input{../Common}

\begin{document}

\maketitle
\thispagestyle{empty}

~\newpage

\pagenumbering{roman}

\begin{table}[hp]
\caption{Revision History} \label{TblRevisionHistory}
\begin{tabularx}{\textwidth}{llX}
\toprule
\textbf{Date} & \textbf{Developer(s)} & \textbf{Change}\\
\midrule
Date1 & Name(s) & Description of changes\\
Date2 & Name(s) & Description of changes\\
... & ... & ...\\
\bottomrule
\end{tabularx}
\end{table}

~\newpage

\tableofcontents

~\newpage

\pagenumbering{arabic}

\wss{You are free to modify this template.}

\section{Introduction}

\wss{You can include your definition of what a hazard is here.}

\section{Scope and Purpose of Hazard Analysis}

\section{System Boundaries and Components}
The system that this hazard analysis will be conducted on consists of the following components:
\begin{itemize}
    \item The front-end and back-end components of the application:
        \begin{itemize}
            \item Authentication
            \item Purchase data input (including optical recognition and language models)
            \item Nearby alternatives recommendations
            \item Purchase history reports
            \item Spending objectives
        \end{itemize}
    \item User mobile device
    \item The database storing all application data
\end{itemize}

\section{Critical Assumptions}

\wss{These assumptions that are made about the software or system.  You should
minimize the number of assumptions that remove potential hazards.  For instance,
you could assume a part will never fail, but it is generally better to include
this potential failure mode.}

\newpage
\begin{landscape}
    \section{Failure Mode and Effect Analysis}
    \begin{longtable}{|p{0.15\textwidth}|p{0.15\textwidth}|p{0.25\textwidth}|p{0.25\textwidth}|p{0.35\textwidth}|p{0.1\textwidth}|p{0.05\textwidth}|}
        \caption{Failure Mode and Effect Analysis Table}  \\
		\hline
        \multicolumn{1}{|c|}{\textbf{Component}}
		& \multicolumn{1}{|c|}{\textbf{Failure Modes}}
		& \multicolumn{1}{|c|}{\textbf{Effects of Failure}}
		& \multicolumn{1}{|c|}{\textbf{Causes of Failure}}
		& \multicolumn{1}{|c|}{\textbf{Recommended Action}}
		& \multicolumn{1}{|c|}{\textbf{SR}}
		& \multicolumn{1}{|c|}{\textbf{Ref.}}  \\
		\hline
    \end{longtable}
\end{landscape}    

\wss{Include your FMEA table here}

\section{Safety and Security Requirements}

\wss{Newly discovered requirements.  These should also be added to the SRS.  (A
rationale design process how and why to fake it.)}

\begin{enumerate}[label=SR\arabic*.]

     \item The system shall allow users to reset their password without logging in and without knowledge of their current password.
    \item[] \emph{Rationale:} Users cannot be relied on to remember their login credentials correctly. There must be a method of allowing the user to access their account despite this.
    \item[] \emph{Associated Hazards:} HA1, HA2

    \item The system shall limit the number of login attempts within a period of time before login is disabled for a cooldown period.
    \item[] \emph{Rationale:} Malicious actors may gain access to an account by a brute-force attack. This requirement significantly reduces this possibility.
    \item[] \emph{Associated Hazards:} HA2

    \item The system shall use natural language processing to reduce the error generated by OCR reading of the receipt.
    \item[] \emph{Rationale:} OCR can sometimes return an inaccurate reading of its input. Natural language processing can reduce this by interpreting the reading using its model rather than its literal reading.
    \item[] \emph{Associated Hazards:} HB1

    \item The system shall prompt the user to retake a photo if the receipt reading is unclear.
    \item[] \emph{Rationale:} OCR will return incorrect data to the rest of the system if the photo is unclear. Thus requesting the user to retake the photo can mitigate this issue.
    \item[] \emph{Associated Hazards:} HB1

    \item The system shall allow the user to manually input grocery items.
    \item[] \emph{Rationale:} Should the OCR and language model not read or recognize an item properly, the user can eliminate this error state by manually reviewing and inputting their items.
    \item[] \emph{Associated Hazards:} HB1

    \item The system shall prompt the user to grant system access to the device camera and the photo gallery.
    \item[] \emph{Rationale:} If the application does not have camera access, it cannot take a photo. The prompt will notify the user that they must grant access before the application can take or import a photo.
    \item[] \emph{Associated Hazards:} HB2

    \item The system shall perform data validation on both front-end when the user inputs and back-end.
    \item[] \emph{Rationale:} If data from the front-end is following strict consistent data-types from conception then all that data flowing from front to back-end is easier to verify and stay consistent.
    \item[] \emph{Associated Hazards:} HC1

    \item The system shall perform database backups on a regular basis.
    \item[] \emph{Rationale:} If the database has a failure and loses data or is offline, the system will be unable to perform some of its functions. Backing up the database will ensure swift recovery and limited data loss.
    \item[] \emph{Associated Hazards:} HC1, HD1, HE1

    \item The system shall prompt the user to connect to the internet if the system is not connected to the internet.
    \item[] \emph{Rationale:} The system will not function correctly without internet connection. Prompting the user to obtain internet connection will notify that user what the problem is and how they might address it.
    \item[] \emph{Associated Hazards:} HC2, HF1

    \item The system shall validate that the information is returned to the user.
    \item[] \emph{Rationale:} If the user is provided with incorrect data, they are at risk of making poor financial decisions.
    \item[] \emph{Associated Hazards:} HF1

    \item The system shall validate that information was correctly inputted by the user.
    \item[] \emph{Rationale:} If the system is provided incorrect data, it may make poor recommendations that the user or other users in. Thus, checking the inputs for glaring mistakes or inconsistencies will mitigate this. 
    \item[] \emph{Associated Hazards:} HE1

\end{enumerate}

\section{Roadmap}

\wss{Which safety requirements will be implemented as part of the capstone timeline?
Which requirements will be implemented in the future?}

\end{document}